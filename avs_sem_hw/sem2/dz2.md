## Отчет о дебаге программы shell_sort
#### Выполнил Недзельницкий Леонид, БПИ215

Для начала посмотрим, насколько программа работоспособна. Скомпилируем, введя в консоль ``gcc shell-sort.c``.
Запустим ее с доп. аргументами: ``./a.out 2 1 5 -12 3 -9``, ``./a.out -3 1``.   
  
На выходе получим такую картину. 

![Картина до дебага](https://i.imgur.com/ihsjf9e.png)
![Картина до дебага 2](https://i.imgur.com/AAhbreE.png)

Заглянув в код ничего не разъясняется, кроме того, что N в конец попала неслучайно - уберем ее, чтобы не мешалась.

![Несчастная N](https://i.imgur.com/7FUEl7B.png)

Теперь скомпилириуем программу в режиме дебага: ``gcc -g shell-sort.c``. Запустим ее в GDB командой ``gdb ./a.out``.
Попробуем поискать проблему в работе с массивом, поставим брейкпоинт на строку 17 внутри функции shell_sort и зафиксируем переменные i и v: ``break 17``, ``display i``, ``display v`` 
\
\
Осталось запустить программу с нашей последовательностью: ``run 2 1 5 -12 3 -9``
Пишем next, чтобы идти по циклу - ничего интересного.

![Идем..](https://i.imgur.com/lPwsgYS.png)

И еще раз...

![Еще раз](https://i.imgur.com/pO0Y2zC.png)

Снова...

![xD](https://i.imgur.com/AMAONgc.png)

А вот тут все и встает на свои места. ``a[i] = 134481``, а такого числа на вход мы не давали, скорее всего выход за рамки массива. 
Смотрим параметры вызова функции и видим ``size=7``, а мы ввели всего 6 чисел. Заглянем в main, где мы вызываем shell_sort.

![LOL](https://i.imgur.com/EmaY3Tf.png)

В строке 32 мы выделили памяти на 6 чисел, умножив argc - 1 на размер целого числа (argc = 7, поскольку мы ввели 6 чисел и саму команду запуска программы), а в строке 36 указываем в качестве параметра argc, которое равно 7. \
\
Вот и нашли ошибку, теперь исправим функцию main, чтобы все работало корректно.

![main](https://i.imgur.com/WDtb6fT.png)

Скомпилируем программу ``gcc main.c`` и запустим ``./a.out 2 1 5 -12 3 -9``

![result](https://i.imgur.com/tI7xLvP.png)

Теперь все правильно.